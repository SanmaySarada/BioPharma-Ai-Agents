# Milestone v1.0: Symmetric Double Programming with Adversarial Resolution

**Status:** SHIPPED 2026-02-12
**Phases:** 1-2
**Total Plans:** 5

## Overview

Redesign the pipeline from asymmetric (Track A full, Track B simplified) to symmetric double programming where both tracks independently produce full regulatory-grade SDTM, ADaM, and Stats outputs. Implement stage-by-stage comparison and an adversarial resolution loop for automated disagreement handling.

## Phases

### Phase 1: Symmetric Double Programming Architecture

**Goal:** Both tracks produce full regulatory-grade outputs that are compared at every stage, with automated resolution when they diverge.
**Plans:** 4 plans

Plans:
- [x] 01-01-PLAN.md -- Foundation models (TrackResult, StageComparison, ResolutionHint, ResolutionResult) + config + cache key fix
- [x] 01-02-PLAN.md -- StageComparator for per-stage output comparison (SDTM, ADaM, Stats)
- [x] 01-03-PLAN.md -- Orchestrator refactor to symmetric _run_track + deprecate DoubleProgrammerAgent
- [x] 01-04-PLAN.md -- ResolutionLoop + integrate stage comparison and resolution into orchestrator

### Phase 2: Display Layer Update

**Goal:** CLI terminal display accurately reflects all pipeline steps (both tracks, stage comparison, resolution) and config.example.yaml documents resolution settings.
**Gap Closure:** Closes display/UX warning and config documentation gap from v1-MILESTONE-AUDIT.md
**Plans:** 1 plan

Plans:
- [x] 02-01-PLAN.md -- Update PipelineDisplay steps + resolution callbacks + config.example.yaml documentation

---

## Milestone Summary

**Key Decisions:**
- Pipeline architecture uses fork-join pattern with async tracks
- Track A = Gemini, Track B = GPT-4 (assigned LLMs)
- Deterministic consensus judge (no LLM) for comparison
- Strategy C post-hoc comparison: both tracks complete fully, then compare at every stage
- Resolution hints injected via existing previous_error mechanism (no new agent interface)
- Cascade re-runs always include all downstream stages
- _pick_best_track defaults to track_a (Gemini) in V1 when ambiguous
- Resolution is a meta-activity, not a pipeline step

**Issues Resolved:**
- Display layer updated for track-qualified step names (closed in Phase 2)
- Resolution callbacks implemented (closed in Phase 2)
- Config documentation added (closed in Phase 2)

**Technical Debt Carried:**
- on_step_retry/on_step_fail use bare agent.name (display row not updated during retries)
- on_pipeline_fail defined in ProgressCallback but never called
- ConsensusJudge.compare_symmetric orphaned (retained for backward compat)
- DoubleProgrammerAgent deprecated but not deleted (backward compat)
- _pick_best_track always returns track_a (V1 heuristic)
- validation_failures=[] placeholder in _generate_hint

---

_For current project status, see .planning/ROADMAP.md_
